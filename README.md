# Проект "Парсер вакансий"

Описание модулей проекта:
- 'abc_classes' абстрактные классы для работы с API и файлами
- 'api_hh' работа с API hh наследуется от абстрактного класса
- 'api_sj' работа с API superjob наследуется от абстрактного класса
- 'vacancies' класс для работы с вакансиями с поддержкой методов сортировки по дате и зарплате
- 'files_module' класс работы с файлами *.json и *.xlsx для сохранения вакансий, наследуется от абстрактного класса
- 'interface_console' консольный интерфейс взаимодействия с пользователем
- 'config' файл конфигурации содержит API ключи и пути для файлов
- 'controller' класс для взаимодействия модулей Models и Views в парадигме MVC
- 'main' точка входа в проект

Реализация проекта:
Скрипт для создания БД и таблиц.
1. Проверяется наличие БД, если ее нет, то она создается.
2. Проверяется наличие таблиц в БД. Если нет таблицы areas, то она создается, далее по АПИ запросу получаем 
список городов и их id с hh. Проверятся наличие таблицы employers и vacancies. При отсутствии они создаются.
3. У пользователя запрашивается город, где располагаются компании (если не вводить, то поиск по России).
4. У пользователя запрашиваются названия компаний через запятую.
5. По АПИ получаются сведения об этих компаниях ('id', 'name', 'url'). Заполняются соответствующие поля
таблицы employers с проверкой, если 'id' уже существует, то компания пропускается.
6. Создаются параметры запроса по АПИ для получения всех вакансий каждой компании из таблицы employers.
params{'employer_id': 'int', 'date_from': 'YYYY-MM-DD' or 'YYYY-MM-DDThh:mm:ss±hhmm', 'order_by': 'publication_time'}.
Если вакансии компании уже есть в БД, то в таблице 'vacancies' ищется наибольшая дата и подставляется в 
параметр 'date_from', если нет, то этот параметр не добавляется.
7. После получения всех вакансий они добавляются в таблицу 'vacancies', которая содержит следующие поля:
'alternate_url', 'area', 'published_at', 'employer', 'employment', 'experience', 'id', 'name', 
'salary_from', 'salary_to', 'requirement', 'responsibility' с проверкой по id и валидацией данных.
8. Класс DBManager, который будет подключаться к БД PostgreSQL и иметь следующие методы:
get_companies_and_vacancies_count()
 — получает список всех компаний и количество вакансий у каждой компании.
get_all_vacancies()
 — получает список всех вакансий с указанием названия компании, названия вакансии и зарплаты и ссылки на вакансию.
get_avg_salary()
 — получает среднюю зарплату по вакансиям.
get_vacancies_with_higher_salary()
 — получает список всех вакансий, у которых зарплата выше средней по всем вакансиям.
get_vacancies_with_keyword()
 — получает список всех вакансий, в названии которых ('name', 'requirement') содержатся переданные в метод слова, 
например python.
